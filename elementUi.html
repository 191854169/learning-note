<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <!-- import CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/element-ui/lib/theme-chalk/index.css"
    />
  </head>
  <body>
    <div id="app">
      <el-form
        :model="form"
        label-position="left"
        label-width="55px"
        :rules="rules"
      >
        <el-form-item prop="branchs" label="test">
          <div v-for="(item, idx) in form.branchs" :key="idx">
            <el-input v-model="form.branchs[idx]"></el-input>
          </div>
        </el-form-item>
      </el-form>
      <el-button @click="visible = true">Button</el-button>
      <el-dialog :visible.sync="visible" title="Hello world">
        <p>Try Element</p>
      </el-dialog>
    </div>
  </body>
  <!-- import Vue before Element -->
  <script src="https://unpkg.com/vue@2/dist/vue.js"></script>
  <!-- import JavaScript -->
  <!-- <script src="https://unpkg.com/element-ui/lib/index.js"></script> -->
  <script src="./elementUi.js"></script>
  <script>
    new Vue({
      el: "#app",
      data: function () {
        return {
          visible: false,
          form: {
            branchs: ["11", "bugfix111", "11"],
          },
          rules: {
            branchs: [
              {
                required: true,
                validator(rule, value, cb) {
                  for (const v of value.values()) {
                    if (!v) {
                      return cb(new Error("分支不能为空"));
                    } else if (!v.startsWith("bugfix")) {
                      return cb(new Error("分支格式不正确"));
                    }
                    {
                      cb();
                    }
                  }
                },
              },
            ],
          },
        };
      },
    });
  </script>
</html>

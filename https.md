# 服务端验证

1. 服务端配置从CA机构申请的证书，在处理浏览器的请求时会返回对应的证书，浏览器会通过内置的CA机构根证书验证证书的有效性，如果无法得到验证会进行警告⚠️。
2. 验证服务端证书是从有效的机构颁发之后，浏览器会获取内置的CA根证书中的公钥，对证书中的`数据签名`进行解密得到`数据摘要S`，随后通过hash算法计算证书的`数据摘要C`，如果`数据摘要S`与`数据摘要C`相同，则认为服务端证书是正确的，客户端随后会读取证书中的公钥进行数据加密。

## 数据加密

1. 对称加密 - 客户端和服务端采用相同的密钥对数据加密
2. 非对称加密 - 客户端采用公钥加密数据，服务端采用私钥解密数据
3. 混合加密 - 客户端生成对称加密的密钥，用服务端生成的公钥加密数据，发送给后台，后台用私钥解密出对称加密的密钥。 随后c-s采用对称加密的方式进行数据传输。

### 防止数据篡改

服务器：
    文件S + hash函数 => 数据摘要S + 服务器私钥 => 数字签名S
客户端：
    数字签名S + 客户端公钥 => 数据摘要S
    文件S + hash函数 => 数据摘要C
    数据摘要S === 数据摘要C ☑️
    数据摘要S !== 数据摘要C ❌

#### 文章推荐

1. [HTTPS的实现步骤](https://juejin.cn/post/6844904150115827725#heading-1)